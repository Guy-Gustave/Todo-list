(()=>{const t=document.querySelector(".todo-form"),e=document.getElementById("title"),n=document.getElementById("description"),o=document.getElementById("priority"),c=document.getElementById("date"),a=document.querySelector(".todo-items");let l=[];function u(t){if(""!==t){const e={id:Date.now(),title:t,completed:!1};l.push(e),i(l),todoInput.value=""}}function d(t){a.innerHTML="",t.forEach((function(t){const l=t.completed?"checked":null,u=document.createElement("li");u.setAttribute("class","item"),u.setAttribute("data-key",t.id),!0===t.completed&&u.classList.add("checked"),u.innerHTML=`\n      <input type="checkbox" class="checkbox" ${l}>\n      ${e.value}\n      ${n.value}\n      ${o.value}\n      ${c.value}\n      <button class="delete-button">X</button>\n    `,a.append(u)}))}function i(t){localStorage.setItem("todos",JSON.stringify(t)),d(t)}t.addEventListener("submit",(function(t){t.preventDefault(),u(e.value),u(n.value),u(o.value),u(c.value)})),function(){const t=localStorage.getItem("todos");t&&(l=JSON.parse(t),d(l))}(),a.addEventListener("click",(function(t){var e;"checkbox"===t.target.type&&(e=t.target.parentElement.getAttribute("data-key"),l.forEach((function(t){t.id==e&&(t.completed=!t.completed)})),i(l)),t.target.classList.contains("delete-button")&&function(t){l=l.filter((function(e){return e.id!=t})),i(l)}(t.target.parentElement.getAttribute("data-key"))}))})();